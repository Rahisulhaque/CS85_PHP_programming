
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="EN" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/xml; charset=utf-8" />
    <title>Source code listing: mailMerge.php</title>
    <link rel = "stylesheet"
          type = "text/css"
          href = "../phpMas.css" />
  </head>
  <body>
    <h1>mailMerge.php</h1>

  <h2>Source of mailMerge.php</h2> 
    <pre>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html lang="EN" dir="ltr" xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;title&gt;Mailing List&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;?php 
//Simple Mail merge
//presumes tab-delimmited file called maillist.dat

$theData = file("maillist.dat");



foreach($theData as $line){
  $line = rtrim($line);
  print "&lt;h3&gt;$line&lt;/h3&gt;\n";
  list($name, $email) = split("\t", $line);
  print "&lt;p&gt;Name: $name&lt;/p&gt; \n";

  $message = &lt;&lt;&lt;HERE
  
TO: $email:
Dear $name:

Thanks for being a part of the spam aficianado forum.  You asked to
be notified whenever a new recipe was posted.  Be sure to check our web
site for the delicious 'spam flambe with white sauce and cherries' recipe.

Sincerely,

Sam Spam,
Host of Spam Afficianados.

HERE;


  print "&lt;pre&gt;$message&lt;/pre&gt; \n";

} // end foreach

?&gt;
&lt;/body&gt;
&lt;/html&gt;


    </pre>
  </body>
</html>

